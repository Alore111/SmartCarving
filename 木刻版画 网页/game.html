<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‡åº†åœ°åå¤§æŒ‘æˆ˜</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/pic/pic.css">
    <link rel="stylesheet" href="css/video.css">

    <style>
        :root {
            --primary-color: #e74c3c;
            --secondary-color: #3498db;
            --background-color: #f5f5f5;
            --correct-color: #2ecc71;
            --wrong-color: #e74c3c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }

        body {
            background-color: var(--background-color);
            background-image: url(img/èƒŒæ™¯/222.png);
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 50px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            min-height: 70vh;
            margin-top: 170px;
        }

        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--primary-color);
        }

        h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }

        .game-intro {
            text-align: center;
            margin-bottom: 30px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            border-left: 4px solid var(--secondary-color);
        }

        .menu {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .menu-item {
            width: 180px;
            padding: 20px 10px;
            text-align: center;
            background-color: var(--primary-color);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            margin: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .menu-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .menu-item.active {
            background-color: var(--secondary-color);
        }

        .game-area {
            display: none;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .question-container {
            margin-bottom: 20px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            border-left: 4px solid var(--secondary-color);
        }

        .question {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .option {
            padding: 10px;
            background-color: #f1f1f1;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .option:hover {
            background-color: #e9e9e9;
        }

        .option.selected {
            background-color: var(--secondary-color);
            color: white;
        }

        .option.correct {
            background-color: var(--correct-color);
            color: white;
        }

        .option.wrong {
            background-color: var(--wrong-color);
            color: white;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .submit-btn {
            background-color: var(--primary-color);
            color: white;
        }

        .submit-btn:hover {
            background-color: #c0392b;
        }

        .next-btn {
            background-color: var(--secondary-color);
            color: white;
        }

        .next-btn:hover {
            background-color: #2980b9;
        }

        .back-btn {
            background-color: #7f8c8d;
            color: white;
        }

        .back-btn:hover {
            background-color: #636e72;
        }

        .result-container {
            text-align: center;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            margin-top: 20px;
            display: none;
        }

        .score {
            font-size: 2rem;
            color: var(--primary-color);
            margin: 20px 0;
        }

        .timer {
            font-size: 1.2rem;
            color: var(--secondary-color);
            margin-bottom: 10px;
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 5px;
            border-left: 4px solid #3498db;
            display: none;
        }

        .explanation.show {
            display: block;
        }

        .leaderboard {
            margin-top: 30px;
            display: none;
        }

        .leaderboard h2 {
            text-align: center;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
        }

        .leaderboard-table th, .leaderboard-table td {
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }

        .leaderboard-table th {
            background-color: var(--secondary-color);
            color: white;
        }

        .leaderboard-table tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        .login-form {
            display: none;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            animation: modalFadeIn 0.3s;
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .modal p {
            margin-bottom: 20px;
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #f00;
            border-radius: 50%;
            pointer-events: none;
        }

        @media (max-width: 768px) {
            .menu {
                flex-direction: column;
                align-items: center;
            }
            
            .menu-item {
                width: 80%;
                margin-bottom: 10px;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<!-- å¯¼èˆªæ  -->
<nav class="nav-bar">
    <div class="logo">
        <img src="img/tb.jpg" alt="Logo">
        <span class="logo-text">å±±åŸæ™ºåˆ»Â·å°è¿¹æ¸å·<br>
                <span class="logo-en">SmartCarvingÂ·Imprint Chongqing</span>
            </span>
    </div>


    <div class="social-links">
        <a class="nav-link" href="index.html">é¦–é¡µ</a>

        <div class="dropdown">
            <a class="nav-link">å¯¼èˆª</a>
            <ul class="submenu"> <!-- å­èœå•åˆ—è¡¨ -->
                <li><a class="nav-link" href="fw/map.html">ğŸ—ºï¸ é‡åº†æ–‡æ—…åœ°å›¾</a></li>
                <li><a class="nav-link" href="fw/zuji.html">ğŸ‘£æ‰“å¡è¶³è¿¹ </a></li>
            </ul>
        </div>

        <div class="dropdown">
            <a class="nav-link">æ•°å­—å±•å…</a>
            <ul class="submenu">
                <li><a class="nav-link" href="video.html">è§†é¢‘</a></li>
                <li><a class="nav-link" href="pic/pic.html">å›¾ç‰‡</a></li>
            </ul>
        </div>

        <div class="dropdown">
            <a class="nav-link">ç™¾ç§‘</a>
            <ul class="submenu">
                <li><a class="nav-link" href="lishi.html">ç‰ˆç”»è‰ºå¢ƒ</a></li>
                <li><a class="nav-link" href="24solarterms.html">ä¼ ç»Ÿæ–‡åŒ–æ‹¾é—</a></li>
                <li><a class="nav-link" href="game.html">é‡åº†åœ°åå¯»è¸ª</a></li>
            </ul>
        </div>

        <div class="dropdown">
            <a class="nav-link">æ–‡åˆ›</a>
            <ul class="submenu">
                <li><a class="nav-link" href="wc/wccp.html">æ–‡åˆ›äº§å“</a></li>
                <li><a class="nav-link" href="wc/cyzj.html">åˆ›æ„å¾é›†</a></li>
            </ul>
        </div>
    </div>

    <div class="menu-toggle">
        <i class="fas fa-bars"></i>
    </div>
</nav>


    <div class="container">
        <header>
            <h1>é‡åº†åœ°åå¤§æŒ‘æˆ˜</h1>
            <p>æµ‹è¯•ä½ å¯¹é‡åº†åœ°åçš„äº†è§£ç¨‹åº¦ï¼</p>
        </header>

        <div class="game-intro">
            <p>æ¬¢è¿æ¥åˆ°é‡åº†åœ°åå¤§æŒ‘æˆ˜ï¼è¿™é‡Œæœ‰ä¸‰ä¸ªéš¾åº¦ç­‰çº§å’Œä¸€ä¸ªå­—è°œæ¿å—ï¼Œæ¯ä¸ªæ¿å—åŒ…å«100é“é¢˜ç›®ã€‚ç­”å¯¹ä¸€é¢˜å¾—10åˆ†ï¼Œ60åˆ†åŠæ ¼ã€‚å‡†å¤‡å¥½æŒ‘æˆ˜äº†å—ï¼Ÿ</p>
        </div>

        <div class="menu">
            <div class="menu-item" data-level="beginner">åˆçº§æŒ‘æˆ˜</div>
            <div class="menu-item" data-level="intermediate">ä¸­çº§æŒ‘æˆ˜</div>
            <div class="menu-item" data-level="advanced">é«˜çº§æŒ‘æˆ˜</div>
            <div class="menu-item" data-level="riddles">å­—è°œæŒ‘æˆ˜</div>
            <div class="menu-item" data-level="leaderboard">æ’è¡Œæ¦œ</div>
            <div class="menu-item" data-level="login">ç™»å½•/æ³¨å†Œ</div>
        </div>

        <div class="login-form" id="loginForm">
            <h2>ç”¨æˆ·ç™»å½•</h2>
            <div class="form-group">
                <label for="username">ç”¨æˆ·å</label>
                <input type="text" id="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å">
            </div>
            <div class="form-group">
                <label for="password">å¯†ç </label>
                <input type="password" id="password" placeholder="è¯·è¾“å…¥å¯†ç ">
            </div>
            <div class="form-group">
                <label for="newUsername" style="display: none;">æ–°ç”¨æˆ·å</label>
                <input type="text" id="newUsername" placeholder="è¯·è®¾ç½®æ–°ç”¨æˆ·å" style="display: none;">
            </div>
            <div class="form-group">
                <label for="newPassword" style="display: none;">æ–°å¯†ç </label>
                <input type="password" id="newPassword" placeholder="è¯·è®¾ç½®æ–°å¯†ç " style="display: none;">
            </div>
            <div class="controls">
                <button class="back-btn" id="showRegister">æ³¨å†Œæ–°è´¦å·</button>
                <button class="submit-btn" id="loginBtn">ç™»å½•</button>
            </div>
        </div>

        <div class="leaderboard" id="leaderboard">
            <h2>æ’è¡Œæ¦œ</h2>
            <table class="leaderboard-table">
                <thead>
                    <tr>
                        <th>æ’å</th>
                        <th>ç”¨æˆ·å</th>
                        <th>æœ€é«˜åˆ†</th>
                        <th>ç”¨æ—¶</th>
                        <th>éš¾åº¦</th>
                    </tr>
                </thead>
                <tbody id="leaderboardBody">
                    <!-- æ’è¡Œæ¦œæ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                </tbody>
            </table>
        </div>

        <div class="game-area" id="gameArea">
            <div class="timer" id="timer">å‰©ä½™æ—¶é—´: 60ç§’</div>
            <div class="question-container">
                <div class="question" id="question">é—®é¢˜åŠ è½½ä¸­...</div>
                <div class="options" id="options">
                    <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
                </div>
            </div>
            <div class="explanation" id="explanation">
                <h3>è§£æ</h3>
                <p id="explanationText">è§£æå†…å®¹åŠ è½½ä¸­...</p>
            </div>
            <div class="controls">
                <button class="back-btn" id="backToMenu">è¿”å›èœå•</button>
                <button class="submit-btn" id="submitAnswer">æäº¤ç­”æ¡ˆ</button>
                <button class="next-btn" id="nextQuestion" style="display: none;">ä¸‹ä¸€é¢˜</button>
            </div>
            <div class="result-container" id="resultContainer">
                <h2>é—¯å…³ç»“æœ</h2>
                <div class="score" id="finalScore">å¾—åˆ†: 0</div>
                <div id="resultMessage">æ­å–œä½ å®Œæˆäº†æŒ‘æˆ˜ï¼</div>
                <div id="timeTaken">ç”¨æ—¶: 0ç§’</div>
                <div class="controls">
                    <button class="next-btn" id="retryChallenge">é‡æ–°æŒ‘æˆ˜</button>
                    <button class="back-btn" id="backToMenuFromResult">è¿”å›èœå•</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="welcomeModal">
        <div class="modal-content">
            <h2>æ¬¢è¿æ¥åˆ°é‡åº†åœ°åå¤§æŒ‘æˆ˜ï¼</h2>
            <p>è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ä½ å¯¹é‡åº†åœ°åçŸ¥è¯†çš„å°æ¸¸æˆã€‚æ¯ä¸ªæŒ‘æˆ˜åŒ…å«10é“é¢˜ç›®ï¼Œç­”å¯¹ä¸€é¢˜å¾—10åˆ†ï¼Œç­”é”™ä¸å¾—åˆ†ã€‚</p>
            <p>60åˆ†åŠæ ¼ï¼Œä½ èƒ½è¾¾åˆ°å¤šå°‘åˆ†å‘¢ï¼Ÿ</p>
            <button class="submit-btn" id="startGame">å¼€å§‹æ¸¸æˆ</button>
        </div>
    </div>

    <script>
        // é¢˜åº“æ•°æ®
        const questionBank = {
            beginner: [
                {
                    question: "é‡åº†çš„ç®€ç§°æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: ["æ¸", "å·", "æ¸å·", "å·´"],
                    answer: 0,
                    explanation: "é‡åº†çš„ç®€ç§°æ˜¯'æ¸'ï¼Œæ¥æºäºå¤ä»£çš„æ¸æ°´ï¼ˆä»Šå˜‰é™µæ±Ÿï¼‰å’Œå·´æ¸èˆã€‚"
                },
                {
                    question: "é‡åº†çš„å¸‚èŠ±æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: ["å±±èŒ¶èŠ±", "ç‰¡ä¸¹", "è·èŠ±", "èŠèŠ±"],
                    answer: 0,
                    explanation: "å±±èŒ¶èŠ±æ˜¯é‡åº†å¸‚çš„å¸‚èŠ±ï¼Œè±¡å¾ç€åšéŸ§å’Œç¾ä¸½ã€‚"
                },
                {
                    question: "é‡åº†çš„åˆ«ç§°æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: ["å±±åŸ", "æ±ŸåŸ", "æ³‰åŸ", "æ˜¥åŸ"],
                    answer: 0,
                    explanation: "é‡åº†å› åœ°å½¢å¤šå±±è€Œè¢«ç§°ä¸º'å±±åŸ'ï¼ŒåŒæ—¶ä¹Ÿæœ‰'é›¾éƒ½'çš„åˆ«ç§°ã€‚"
                },
                {
                    question: "é‡åº†çš„å¸‚æ ‘æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: ["é»„è‘›æ ‘", "æ¦•æ ‘", "é“¶æ", "æ¢§æ¡"],
                    answer: 0,
                    explanation: "é»„è‘›æ ‘æ˜¯é‡åº†å¸‚çš„å¸‚æ ‘ï¼Œå…·æœ‰é¡½å¼ºçš„ç”Ÿå‘½åŠ›å’Œé€‚åº”æ€§ã€‚"
                },
                {
                    question: "é‡åº†çš„å¸‚æ­Œæ˜¯å“ªé¦–ï¼Ÿ",
                    options: ["çº¢å²©æ‘çš„é’Ÿå£°", "å˜‰é™µæ±Ÿä¹‹æ­Œ", "é‡åº†ä¹‹æ­Œ", "å±±åŸä¹‹æ­Œ"],
                    answer: 0,
                    explanation: "ã€Šçº¢å²©æ‘çš„é’Ÿå£°ã€‹æ˜¯é‡åº†å¸‚çš„å¸‚æ­Œï¼Œè¡¨è¾¾äº†é‡åº†äººæ°‘çš„é©å‘½ç²¾ç¥ã€‚"
                },
                {
                    question: "é‡åº†çš„å¸‚å¾½ä¸­å¿ƒå›¾æ¡ˆæ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: ["å˜‰é™µæ±Ÿä¸é•¿æ±Ÿäº¤æ±‡", "è§£æ”¾ç¢‘", "å—å±±ä¸€æ£µæ ‘", "æ´ªå´–æ´"],
                    answer: 0,
                    explanation: "é‡åº†å¸‚å¾½ä¸­å¿ƒå›¾æ¡ˆæ˜¯å˜‰é™µæ±Ÿä¸é•¿æ±Ÿäº¤æ±‡å½¢æˆçš„'æ¸'å­—å½¢çŠ¶ã€‚"
                },
                {
                    question: "é‡åº†çš„å¸‚è¾–åŒºæœ‰å¤šå°‘ä¸ªï¼Ÿ",
                    options: ["19", "26", "38", "40"],
                    answer: 2,
                    explanation: "é‡åº†å¸‚ä¸‹è¾–38ä¸ªåŒºå¿ï¼ŒåŒ…æ‹¬26ä¸ªå¸‚è¾–åŒºã€8ä¸ªå¿å’Œ4ä¸ªè‡ªæ²»å¿ã€‚"
                },
                {
                    question: "é‡åº†çš„å¸‚è¾–åŒºä¸­ï¼Œå“ªä¸ªåŒºä»¥'æ¸ä¸­'å‘½åï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 0,
                    explanation: "æ¸ä¸­åŒºæ˜¯é‡åº†å¸‚çš„æ ¸å¿ƒåŸåŒºï¼Œå› ä½äºé•¿æ±Ÿå’Œå˜‰é™µæ±Ÿäº¤æ±‡å¤„çš„æ¸ä¸­åŠå²›è€Œå¾—åã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºè¢«ç§°ä¸º'é‡åº†çš„çª—å£'ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 1,
                    explanation: "æ±ŸåŒ—åŒºå› æ‹¥æœ‰æ±ŸåŒ—å›½é™…æœºåœºå’Œå¤šä¸ªé‡è¦å•†ä¸šåŒºï¼Œè¢«èª‰ä¸º'é‡åº†çš„çª—å£'ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºä»¥æ¸©æ³‰é—»åï¼Ÿ",
                    options: ["æ¸åŒ—åŒº", "åŒ—ç¢šåŒº", "æ²™åªååŒº", "ä¹é¾™å¡åŒº"],
                    answer: 1,
                    explanation: "åŒ—ç¢šåŒºå› æ‹¥æœ‰ä¸°å¯Œçš„æ¸©æ³‰èµ„æºï¼Œè¢«èª‰ä¸º'æ¸©æ³‰ä¹‹éƒ½'ã€‚"
                }
            ],
            intermediate: [
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿è¢«ç§°ä¸º'ä¸­å›½ç«é”…ä¹‹éƒ½'ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "ä¹é¾™å¡åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº"],
                    answer: 1,
                    explanation: "ä¹é¾™å¡åŒºå› ç«é”…äº§ä¸šå‘è¾¾ï¼Œè¢«èª‰ä¸º'ä¸­å›½ç«é”…ä¹‹éƒ½'ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯çº¢å²©ç²¾ç¥çš„å‘æºåœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ²™åªååŒº", "ä¹é¾™å¡åŒº", "æ±ŸåŒ—åŒº"],
                    answer: 0,
                    explanation: "æ¸ä¸­åŒºçš„çº¢å²©æ‘æ˜¯çº¢å²©ç²¾ç¥çš„å‘æºåœ°ï¼Œæ˜¯é‡è¦çš„é©å‘½å†å²é—å€ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æœ‰'å°é¦™æ¸¯'ä¹‹ç§°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº", "æ±ŸåŒ—åŒº"],
                    answer: 1,
                    explanation: "å—å²¸åŒºå› å—æ»¨è·¯çš„å¤œæ™¯å’Œå•†ä¸šæ°›å›´ï¼Œè¢«èª‰ä¸º'å°é¦™æ¸¯'ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†å¤§å‰§é™¢æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 1,
                    explanation: "é‡åº†å¤§å‰§é™¢ä½äºæ±ŸåŒ—åŒºæ±ŸåŒ—åŸï¼Œæ˜¯é‡åº†é‡è¦çš„æ–‡åŒ–åœ°æ ‡ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†ç§‘æŠ€é¦†æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 2,
                    explanation: "é‡åº†ç§‘æŠ€é¦†ä½äºå—å²¸åŒºå—æ»¨è·¯ï¼Œæ˜¯é‡åº†é‡è¦çš„ç§‘æ™®æ•™è‚²åŸºåœ°ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†åŠ¨ç‰©å›­æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["ä¹é¾™å¡åŒº", "æ²™åªååŒº", "æ¸åŒ—åŒº", "å·´å—åŒº"],
                    answer: 0,
                    explanation: "é‡åº†åŠ¨ç‰©å›­ä½äºä¹é¾™å¡åŒºæ¨å®¶åªï¼Œæ˜¯é‡åº†é‡è¦çš„æ—…æ¸¸æ™¯ç‚¹ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†å›­åšå›­æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸åŒ—åŒº", "ä¹é¾™å¡åŒº", "æ²™åªååŒº", "å·´å—åŒº"],
                    answer: 0,
                    explanation: "é‡åº†å›­åšå›­ä½äºæ¸åŒ—åŒºé¾™æ™¯æ¹–ç•”ï¼Œæ˜¯é‡åº†é‡è¦çš„å›­æ—æ™¯è§‚ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†æ¬¢ä¹è°·æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸åŒ—åŒº", "ä¹é¾™å¡åŒº", "å·´å—åŒº", "å—å²¸åŒº"],
                    answer: 0,
                    explanation: "é‡åº†æ¬¢ä¹è°·ä½äºæ¸åŒ—åŒºé‡‘æ¸å¤§é“ï¼Œæ˜¯é‡åº†é‡è¦çš„ä¸»é¢˜å…¬å›­ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†å¤§å­¦æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ²™åªååŒº", "ä¹é¾™å¡åŒº", "æ±ŸåŒ—åŒº"],
                    answer: 1,
                    explanation: "é‡åº†å¤§å­¦ä½äºæ²™åªååŒºæ²™æ­£è¡—ï¼Œæ˜¯é‡åº†é‡è¦çš„é«˜ç­‰å­¦åºœã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†ä¸‰å³¡å¹¿åœºæ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ²™åªååŒº", "ä¹é¾™å¡åŒº", "æ±ŸåŒ—åŒº"],
                    answer: 1,
                    explanation: "ä¸‰å³¡å¹¿åœºä½äºæ²™åªååŒºï¼Œæ˜¯é‡åº†é‡è¦çš„å•†ä¸šå’Œæ–‡åŒ–ä¸­å¿ƒã€‚"
                }
            ],
            advanced: [
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†æŠ—æˆ˜é—å€åšç‰©é¦†æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ²™åªååŒº", "ä¹é¾™å¡åŒº", "å—å²¸åŒº"],
                    answer: 0,
                    explanation: "é‡åº†æŠ—æˆ˜é—å€åšç‰©é¦†ä½äºæ¸ä¸­åŒºæ›¾å®¶å²©ï¼Œæ˜¯é‡è¦çš„æŠ—æˆ˜å†å²é—å€ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯ç™½å…¬é¦†å’Œæ¸£æ»“æ´æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ²™åªååŒº", "ä¹é¾™å¡åŒº", "å—å²¸åŒº"],
                    answer: 1,
                    explanation: "ç™½å…¬é¦†å’Œæ¸£æ»“æ´ä½äºæ²™åªååŒºæ­Œä¹å±±ï¼Œæ˜¯é‡è¦çš„é©å‘½å†å²é—å€ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†ä¸­å›½ä¸‰å³¡åšç‰©é¦†æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 0,
                    explanation: "é‡åº†ä¸­å›½ä¸‰å³¡åšç‰©é¦†ä½äºæ¸ä¸­åŒºäººæ°‘å¤§ç¤¼å ‚æ—ï¼Œæ˜¯é‡åº†é‡è¦çš„æ–‡åŒ–åœ°æ ‡ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†å¤§ç¤¼å ‚æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 0,
                    explanation: "é‡åº†äººæ°‘å¤§ç¤¼å ‚ä½äºæ¸ä¸­åŒºå­¦ç”°æ¹¾ï¼Œæ˜¯é‡åº†é‡è¦çš„å†å²å»ºç­‘ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯æ´ªå´–æ´æ°‘ä¿—é£è²ŒåŒºæ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 0,
                    explanation: "æ´ªå´–æ´æ°‘ä¿—é£è²ŒåŒºä½äºæ¸ä¸­åŒºå˜‰é™µæ±Ÿè¾¹ï¼Œæ˜¯é‡åº†è‘—åçš„æ—…æ¸¸æ™¯ç‚¹ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯æå­åè½»è½¨ç«™æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 0,
                    explanation: "æå­åè½»è½¨ç«™ä½äºæ¸ä¸­åŒºæå­åï¼Œæ˜¯é‡åº†è‘—åçš„'ç©¿æ¥¼è½»è½¨'æ™¯ç‚¹ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é•¿æ±Ÿç´¢é“åŒ—ç«™æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 1,
                    explanation: "é•¿æ±Ÿç´¢é“åŒ—ç«™ä½äºæ±ŸåŒ—åŒºï¼Œä¸å—å²¸åŒºçš„å—ç«™ç›¸è¿ï¼Œæ˜¯é‡åº†é‡è¦çš„äº¤é€šå’Œæ—…æ¸¸è®¾æ–½ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é¹…å²­å…¬å›­æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 0,
                    explanation: "é¹…å²­å…¬å›­ä½äºæ¸ä¸­åŒºé¹…å²­æ­£è¡—ï¼Œæ˜¯é‡åº†å†å²æœ€æ‚ ä¹…çš„å…¬å›­ä¹‹ä¸€ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯å—å±±æ¤ç‰©å›­æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸ä¸­åŒº", "å—å²¸åŒº", "æ±ŸåŒ—åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 1,
                    explanation: "å—å±±æ¤ç‰©å›­ä½äºå—å²¸åŒºå—å±±ï¼Œæ˜¯é‡åº†é‡è¦çš„ç”Ÿæ€æ—…æ¸¸æ™¯ç‚¹ã€‚"
                },
                {
                    question: "é‡åº†çš„å“ªä¸ªåŒºå¿æ˜¯é‡åº†å›­åšå›­æ‰€åœ¨åœ°ï¼Ÿ",
                    options: ["æ¸åŒ—åŒº", "ä¹é¾™å¡åŒº", "æ²™åªååŒº", "å·´å—åŒº"],
                    answer: 0,
                    explanation: "é‡åº†å›­åšå›­ä½äºæ¸åŒ—åŒºé¾™æ™¯æ¹–ç•”ï¼Œæ˜¯é‡åº†é‡è¦çš„å›­æ—æ™¯è§‚ã€‚"
                }
            ],
            riddles: [
                {
                    question: "ä¸€æ±Ÿç©¿åŸè¿‡ï¼Œä¸¤å²¸å°½é«˜æ¥¼ï¼ŒçŒœä¸€ä¸ªé‡åº†çš„åœ°åã€‚",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 0,
                    explanation: "æ¸ä¸­åŒºæ˜¯é‡åº†çš„æ ¸å¿ƒåŸåŒºï¼Œé•¿æ±Ÿå’Œå˜‰é™µæ±Ÿåœ¨æ­¤äº¤æ±‡ï¼Œä¸¤å²¸é«˜æ¥¼æ—ç«‹ã€‚"
                },
                {
                    question: "çº¢å²©ç²¾ç¥å‘æºåœ°ï¼Œé©å‘½å†å²æ°¸é“­è®°ï¼ŒçŒœä¸€ä¸ªé‡åº†çš„åœ°åã€‚",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 0,
                    explanation: "æ¸ä¸­åŒºçš„çº¢å²©æ‘æ˜¯çº¢å²©ç²¾ç¥çš„å‘æºåœ°ï¼Œæ˜¯é‡è¦çš„é©å‘½å†å²é—å€ã€‚"
                },
                {
                    question: "æ¸©æ³‰ä¹‹éƒ½ç¾åæ‰¬ï¼ŒåŒ—æ³‰å±±æ°´ç”²ä¸€æ–¹ï¼ŒçŒœä¸€ä¸ªé‡åº†çš„åœ°åã€‚",
                    options: ["æ¸åŒ—åŒº", "åŒ—ç¢šåŒº", "å·´å—åŒº", "æ¸ä¸­åŒº"],
                    answer: 1,
                    explanation: "åŒ—ç¢šåŒºå› æ¸©æ³‰èµ„æºä¸°å¯Œï¼Œè¢«èª‰ä¸º'æ¸©æ³‰ä¹‹éƒ½'ã€‚"
                },
                {
                    question: "æ¸å·åŸå¤–å±±æ°´é—´ï¼Œæ´ªå´–æ´å‰äººå¦‚æ½®ï¼ŒçŒœä¸€ä¸ªé‡åº†çš„åœ°åã€‚",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 0,
                    explanation: "æ´ªå´–æ´ä½äºæ¸ä¸­åŒºå˜‰é™µæ±Ÿè¾¹ï¼Œæ˜¯é‡åº†è‘—åçš„æ—…æ¸¸æ™¯ç‚¹ã€‚"
                },
                {
                    question: "é‡åº†çš„çª—å£å±•æ–°é¢œï¼Œæ±ŸåŒ—æœºåœºè¿å®¢æ¥ï¼ŒçŒœä¸€ä¸ªé‡åº†çš„åœ°åã€‚",
                    options: ["æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 1,
                    explanation: "æ±ŸåŒ—åŒºå› æ‹¥æœ‰æ±ŸåŒ—å›½é™…æœºåœºï¼Œè¢«èª‰ä¸º'é‡åº†çš„çª—å£'ã€‚"
                },
                {
                    question: "é‡åº†ç«é”…é¦™å¤©ä¸‹ï¼Œä¹é¾™é”…åº•ä¼ å››æ–¹ï¼ŒçŒœä¸€ä¸ªé‡åº†çš„åœ°åã€‚",
                    options: ["ä¹é¾™å¡åŒº", "æ¸ä¸­åŒº", "æ±ŸåŒ—åŒº", "å—å²¸åŒº"],
                    answer: 0,
                    explanation: "ä¹é¾™å¡åŒºå› ç«é”…äº§ä¸šå‘è¾¾ï¼Œè¢«èª‰ä¸º'ä¸­å›½ç«é”…ä¹‹éƒ½'ã€‚"
                },
                {
                    question: "å—æ»¨è·¯ä¸Šå¤œæ™¯ç¾ï¼Œå°é¦™æ¸¯åå¤©ä¸‹çŸ¥ï¼ŒçŒœä¸€ä¸ªé‡åº†çš„åœ°åã€‚",
                    options: ["æ¸ä¸­åŒº", "å—å²¸åŒº", "æ±ŸåŒ—åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 1,
                    explanation: "å—å²¸åŒºå› å—æ»¨è·¯çš„å¤œæ™¯å’Œå•†ä¸šæ°›å›´ï¼Œè¢«èª‰ä¸º'å°é¦™æ¸¯'ã€‚"
                },
                {
                    question: "æ­Œä¹å±±ä¸Šè‹±é­‚åœ¨ï¼Œç™½å…¬é¦†é‡Œå¿†å³¥åµ˜ï¼ŒçŒœä¸€ä¸ªé‡åº†çš„åœ°åã€‚",
                    options: ["æ¸ä¸­åŒº", "æ²™åªååŒº", "æ±ŸåŒ—åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 1,
                    explanation: "æ²™åªååŒºçš„æ­Œä¹å±±æ˜¯ç™½å…¬é¦†å’Œæ¸£æ»“æ´æ‰€åœ¨åœ°ï¼Œæ˜¯é‡è¦çš„é©å‘½å†å²é—å€ã€‚"
                },
                {
                    question: "é‡åº†å¤§å­¦è‚²è‹±æ‰ï¼Œæ²™æ­£è¡—ä¸Šä¹¦å£°æ‰¬ï¼ŒçŒœä¸€ä¸ªé‡åº†çš„åœ°åã€‚",
                    options: ["æ¸ä¸­åŒº", "æ²™åªååŒº", "æ±ŸåŒ—åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 1,
                    explanation: "é‡åº†å¤§å­¦ä½äºæ²™åªååŒºæ²™æ­£è¡—ï¼Œæ˜¯é‡åº†é‡è¦çš„é«˜ç­‰å­¦åºœã€‚"
                },
                {
                    question: "ä¸‰å³¡å¹¿åœºå•†ä¸šæ—ºï¼Œæ²™ç£æ–‡åŒ–æºè¿œé•¿ï¼ŒçŒœä¸€ä¸ªé‡åº†çš„åœ°åã€‚",
                    options: ["æ¸ä¸­åŒº", "æ²™åªååŒº", "æ±ŸåŒ—åŒº", "ä¹é¾™å¡åŒº"],
                    answer: 1,
                    explanation: "ä¸‰å³¡å¹¿åœºä½äºæ²™åªååŒºï¼Œæ˜¯é‡åº†é‡è¦çš„å•†ä¸šå’Œæ–‡åŒ–ä¸­å¿ƒã€‚"
                }
            ]
        };

        // æ¸¸æˆçŠ¶æ€
        const gameState = {
            currentLevel: null,
            currentQuestionIndex: 0,
            score: 0,
            startTime: null,
            selectedAnswer: null,
            username: "æ¸¸å®¢",
            leaderboard: []
        };

        // DOMå…ƒç´ 
        const elements = {
            menuItems: document.querySelectorAll('.menu-item'),
            gameArea: document.getElementById('gameArea'),
            loginForm: document.getElementById('loginForm'),
            leaderboard: document.getElementById('leaderboard'),
            question: document.getElementById('question'),
            options: document.getElementById('options'),
            submitAnswer: document.getElementById('submitAnswer'),
            nextQuestion: document.getElementById('nextQuestion'),
            backToMenu: document.getElementById('backToMenu'),
            backToMenuFromResult: document.getElementById('backToMenuFromResult'),
            retryChallenge: document.getElementById('retryChallenge'),
            resultContainer: document.getElementById('resultContainer'),
            finalScore: document.getElementById('finalScore'),
            resultMessage: document.getElementById('resultMessage'),
            timeTaken: document.getElementById('timeTaken'),
            explanation: document.getElementById('explanation'),
            explanationText: document.getElementById('explanationText'),
            timer: document.getElementById('timer'),
            welcomeModal: document.getElementById('welcomeModal'),
            startGame: document.getElementById('startGame'),
            showRegister: document.getElementById('showRegister'),
            loginBtn: document.getElementById('loginBtn'),
            username: document.getElementById('username'),
            password: document.getElementById('password'),
            newUsername: document.getElementById('newUsername'),
            newPassword: document.getElementById('newPassword')
        };

        // åˆå§‹åŒ–æ¸¸æˆ
        function initGame() {
            // æ˜¾ç¤ºæ¬¢è¿æ¨¡æ€æ¡†
            elements.welcomeModal.style.display = 'flex';

            // åŠ è½½æ’è¡Œæ¦œæ•°æ®
            loadLeaderboard();

            // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
            bindEventListeners();
        }

        // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
        function bindEventListeners() {
            // èœå•é¡¹ç‚¹å‡»äº‹ä»¶
            elements.menuItems.forEach(item => {
                item.addEventListener('click', () => {
                    elements.menuItems.forEach(i => i.classList.remove('active'));
                    item.classList.add('active');
                    
                    const level = item.getAttribute('data-level');
                    if (level === 'leaderboard') {
                        showLeaderboard();
                    } else if (level === 'login') {
                        showLoginForm();
                    } else {
                        startGame(level);
                    }
                });
            });

            // å¼€å§‹æ¸¸æˆæŒ‰é’®
            elements.startGame.addEventListener('click', () => {
                elements.welcomeModal.style.display = 'none';
            });

            // æäº¤ç­”æ¡ˆæŒ‰é’®
            elements.submitAnswer.addEventListener('click', checkAnswer);

            // ä¸‹ä¸€é¢˜æŒ‰é’®
            elements.nextQuestion.addEventListener('click', loadNextQuestion);

            // è¿”å›èœå•æŒ‰é’®
            elements.backToMenu.addEventListener('click', returnToMenu);
            elements.backToMenuFromResult.addEventListener('click', returnToMenu);

            // é‡æ–°æŒ‘æˆ˜æŒ‰é’®
            elements.retryChallenge.addEventListener('click', () => {
                elements.resultContainer.style.display = 'none';
                startGame(gameState.currentLevel);
            });

            // æ˜¾ç¤ºæ³¨å†Œè¡¨å•
            elements.showRegister.addEventListener('click', () => {
                elements.showRegister.textContent = 'è¿”å›ç™»å½•';
                elements.loginBtn.textContent = 'æ³¨å†Œ';
                elements.newUsername.style.display = 'block';
                elements.newPassword.style.display = 'block';
                elements.username.value = '';
                elements.password.value = '';
            });

            // ç™»å½•/æ³¨å†ŒæŒ‰é’®
            elements.loginBtn.addEventListener('click', () => {
                if (elements.loginBtn.textContent === 'ç™»å½•') {
                    handleLogin();
                } else {
                    handleRegister();
                }
            });
        }

        // æ˜¾ç¤ºç™»å½•è¡¨å•
        function showLoginForm() {
            elements.gameArea.style.display = 'none';
            elements.leaderboard.style.display = 'none';
            elements.loginForm.style.display = 'block';
        }

        // å¤„ç†ç™»å½•
        function handleLogin() {
            const username = elements.username.value.trim();
            const password = elements.password.value.trim();
            
            if (!username || !password) {
                alert('è¯·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ');
                return;
            }
            
            // æ¨¡æ‹Ÿç™»å½•éªŒè¯
            gameState.username = username;
            alert(`æ¬¢è¿å›æ¥ï¼Œ${username}ï¼`);
            elements.loginForm.style.display = 'none';
        }

        // å¤„ç†æ³¨å†Œ
        function handleRegister() {
            const username = elements.newUsername.value.trim();
            const password = elements.newPassword.value.trim();
            
            if (!username || !password) {
                alert('è¯·è®¾ç½®ç”¨æˆ·åå’Œå¯†ç ');
                return;
            }
            
            // æ¨¡æ‹Ÿæ³¨å†Œ
            alert(`æ­å–œä½ ï¼Œ${username}ï¼æ³¨å†ŒæˆåŠŸï¼`);
            elements.showRegister.textContent = 'æ³¨å†Œæ–°è´¦å·';
            elements.loginBtn.textContent = 'ç™»å½•';
            elements.newUsername.style.display = 'none';
            elements.newPassword.style.display = 'none';
            elements.username.value = username;
            elements.password.value = password;
            gameState.username = username;
        }

        // æ˜¾ç¤ºæ’è¡Œæ¦œ
        function showLeaderboard() {
            elements.gameArea.style.display = 'none';
            elements.loginForm.style.display = 'none';
            elements.leaderboard.style.display = 'block';
        }

        // åŠ è½½æ’è¡Œæ¦œæ•°æ®
        function loadLeaderboard() {
            // æ¨¡æ‹Ÿæ’è¡Œæ¦œæ•°æ®
            const leaderboardData = [
                { rank: 1, username: 'é‡åº†é€š', score: 100, time: '32ç§’', level: 'é«˜çº§' },
                { rank: 2, username: 'åœ°åç‹', score: 95, time: '35ç§’', level: 'é«˜çº§' },
                { rank: 3, username: 'å±±åŸä¾ ', score: 90, time: '38ç§’', level: 'é«˜çº§' },
                { rank: 4, username: 'ç«é”…å¦¹', score: 85, time: '42ç§’', level: 'ä¸­çº§' },
                { rank: 5, username: 'è½»è½¨å“¥', score: 80, time: '45ç§’', level: 'ä¸­çº§' },
                { rank: 6, username: 'æ´ªå´–æ´', score: 75, time: '48ç§’', level: 'ä¸­çº§' },
                { rank: 7, username: 'å˜‰é™µæ±Ÿ', score: 70, time: '52ç§’', level: 'åˆçº§' },
                { rank: 8, username: 'å—å±±æ ‘', score: 65, time: '55ç§’', level: 'åˆçº§' },
                { rank: 9, username: 'é•¿æ±Ÿæ°´', score: 60, time: '58ç§’', level: 'åˆçº§' },
                { rank: 10, username: 'æ¸¸å®¢', score: 55, time: '60ç§’', level: 'åˆçº§' }
            ];
            
            gameState.leaderboard = leaderboardData;
            renderLeaderboard();
        }

        // æ¸²æŸ“æ’è¡Œæ¦œ
        function renderLeaderboard() {
            const leaderboardBody = document.getElementById('leaderboardBody');
            leaderboardBody.innerHTML = '';
            
            gameState.leaderboard.forEach(entry => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${entry.rank}</td>
                    <td>${entry.username}</td>
                    <td>${entry.score}</td>
                    <td>${entry.time}</td>
                    <td>${entry.level}</td>
                `;
                leaderboardBody.appendChild(row);
            });
        }

        // å¼€å§‹æ¸¸æˆ
        function startGame(level) {
            gameState.currentLevel = level;
            gameState.currentQuestionIndex = 0;
            gameState.score = 0;
            gameState.startTime = new Date();
            
            elements.menuItems.forEach(item => item.classList.remove('active'));
            elements.gameArea.style.display = 'block';
            elements.loginForm.style.display = 'none';
            elements.leaderboard.style.display = 'none';
            elements.resultContainer.style.display = 'none';
            
            // é‡ç½®è®¡æ—¶å™¨
            startTimer();
            
            // åŠ è½½ç¬¬ä¸€é¢˜
            loadQuestion();
        }

        // å¼€å§‹è®¡æ—¶å™¨
        function startTimer() {
            let timeLeft = 180; // 180ç§’å€’è®¡æ—¶
            const timerInterval = setInterval(() => {
                timeLeft--;
                elements.timer.textContent = `å‰©ä½™æ—¶é—´: ${timeLeft}ç§’`;
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    endGame();
                }
            }, 1000);
        }

        // åŠ è½½é—®é¢˜
        function loadQuestion() {
            const levelQuestions = questionBank[gameState.currentLevel];
            const questionIndex = gameState.currentQuestionIndex % levelQuestions.length;
            const currentQuestion = levelQuestions[questionIndex];
            
            elements.question.textContent = currentQuestion.question;
            elements.options.innerHTML = '';
            
            currentQuestion.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                optionElement.addEventListener('click', selectAnswer);
                elements.options.appendChild(optionElement);
            });
            
            elements.submitAnswer.style.display = 'block';
            elements.nextQuestion.style.display = 'none';
            elements.explanation.classList.remove('show');
        }

        // é€‰æ‹©ç­”æ¡ˆ
        function selectAnswer() {
            const selectedOption = this;
            const selectedIndex = parseInt(selectedOption.dataset.index);
            
            // ç§»é™¤ä¹‹å‰çš„é€‰æ‹©
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // æ·»åŠ æ–°çš„é€‰æ‹©
            selectedOption.classList.add('selected');
            gameState.selectedAnswer = selectedIndex;
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer() {
            if (gameState.selectedAnswer === null) {
                alert('è¯·é€‰æ‹©ä¸€ä¸ªç­”æ¡ˆï¼');
                return;
            }
            
            const levelQuestions = questionBank[gameState.currentLevel];
            const questionIndex = gameState.currentQuestionIndex % levelQuestions.length;
            const currentQuestion = levelQuestions[questionIndex];
            
            // æ˜¾ç¤ºæ­£ç¡®/é”™è¯¯é€‰é¡¹
            document.querySelectorAll('.option').forEach(option => {
                const index = parseInt(option.dataset.index);
                if (index === currentQuestion.answer) {
                    option.classList.add('correct');
                } else if (index === gameState.selectedAnswer && index !== currentQuestion.answer) {
                    option.classList.add('wrong');
                }
            });
            
            // æ›´æ–°åˆ†æ•°
            if (gameState.selectedAnswer === currentQuestion.answer) {
                gameState.score += 10;
                createConfetti();
            }
            
            // æ˜¾ç¤ºè§£æ
            elements.explanationText.textContent = currentQuestion.explanation;
            elements.explanation.classList.add('show');
            
            // éšè—æäº¤æŒ‰é’®ï¼Œæ˜¾ç¤ºä¸‹ä¸€é¢˜æŒ‰é’®
            elements.submitAnswer.style.display = 'none';
            elements.nextQuestion.style.display = 'block';
        }

        // åˆ›å»ºåº†ç¥åŠ¨ç”»
        function createConfetti() {
            const confettiContainer = document.body;
            const colors = ['#f00', '#0f0', '#00f', '#ff0', '#f0f', '#0ff'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = -20 + 'px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animation = `fall ${Math.random() * 3 + 2}s linear`;
                
                confettiContainer.appendChild(confetti);
                
                // ç§»é™¤åŠ¨ç”»å…ƒç´ 
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
            
            // æ·»åŠ CSSåŠ¨ç”»
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fall {
                    to {
                        transform: translateY(100vh) rotate(360deg);
                    }
                }
            `;
            document.head.appendChild(style);
        }

        // åŠ è½½ä¸‹ä¸€é¢˜
        function loadNextQuestion() {
            gameState.currentQuestionIndex++;
            
            if (gameState.currentQuestionIndex >= 10) {
                endGame();
            } else {
                gameState.selectedAnswer = null;
                loadQuestion();
            }
        }

        // ç»“æŸæ¸¸æˆ
        function endGame() {
            const timeTaken = Math.floor((new Date() - gameState.startTime) / 1000);
            
            elements.finalScore.textContent = `å¾—åˆ†: ${gameState.score}`;
            elements.timeTaken.textContent = `ç”¨æ—¶: ${timeTaken}ç§’`;
            
            if (gameState.score >= 60) {
                elements.resultMessage.textContent = `æ­å–œä½ é€šè¿‡äº†${getLevelName(gameState.currentLevel)}æŒ‘æˆ˜ï¼`;
            } else {
                elements.resultMessage.textContent = `å¾ˆé—æ†¾ï¼Œä½ æ²¡æœ‰é€šè¿‡${getLevelName(gameState.currentLevel)}æŒ‘æˆ˜ï¼Œå†æ¥å†å‰ï¼`;
            }
            
            // æ›´æ–°æ’è¡Œæ¦œ
            updateLeaderboard(gameState.score, timeTaken);
            
            elements.resultContainer.style.display = 'block';
            elements.submitAnswer.style.display = 'none';
            elements.nextQuestion.style.display = 'none';
        }

        // è·å–éš¾åº¦åç§°
        function getLevelName(level) {
            const levelNames = {
                beginner: 'åˆçº§',
                intermediate: 'ä¸­çº§',
                advanced: 'é«˜çº§',
                riddles: 'å­—è°œ'
            };
            return levelNames[level] || level;
        }

        // æ›´æ–°æ’è¡Œæ¦œ
        function updateLeaderboard(score, time) {
            // æ¨¡æ‹Ÿæ›´æ–°æ’è¡Œæ¦œ
            console.log(`æ›´æ–°æ’è¡Œæ¦œ: ç”¨æˆ· ${gameState.username} åœ¨ ${getLevelName(gameState.currentLevel)} æŒ‘æˆ˜ä¸­è·å¾— ${score} åˆ†ï¼Œç”¨æ—¶ ${time} ç§’`);
        }

        // è¿”å›èœå•
        function returnToMenu() {
            elements.gameArea.style.display = 'none';
            elements.resultContainer.style.display = 'none';
            elements.menuItems.forEach(item => item.classList.remove('active'));
        }

        // åˆå§‹åŒ–æ¸¸æˆ
        initGame();
    </script>

<script src="js/submenu.js"></script>

</body>
</html>